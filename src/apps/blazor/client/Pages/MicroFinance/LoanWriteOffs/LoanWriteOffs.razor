@page "/microfinance/loan-write-offs"
@using FSH.Starter.Blazor.Client.Components.EntityTable
@using FSH.Starter.Blazor.Infrastructure.Api

<PageHeader Title="Loan Write-Offs" Header="Loan Write-Offs" SubHeader="Manage loan write-off requests and recoveries." />

<MudPaper Elevation="@_preference.Elevation" Class="pa-4 mb-4">
    <MudStack Row="true" Spacing="2" Wrap="Wrap.Wrap" AlignItems="AlignItems.Center">
        <MudSpacer />
        <MudButtonGroup Color="Color.Info" Variant="Variant.Outlined" Size="Size.Small">
            <MudButton StartIcon="@Icons.Material.Filled.Help" OnClick="@ShowLoanWriteOffHelp">
                Help
            </MudButton>
        </MudButtonGroup>
    </MudStack>
</MudPaper>

<EntityTable @ref="_table" TEntity="LoanWriteOffSummaryResponse" TId="DefaultIdType" TRequest="LoanWriteOffViewModel" Context="Context" Elevation="_preference.Elevation" BorderRadius="_preference.BorderRadius">
    <ExtraActions>
        <MudMenuItem OnClick="@(() => ViewDetails(context.Id))" Icon="@Icons.Material.Filled.Visibility" IconColor="Color.Primary">View Details</MudMenuItem>
    </ExtraActions>
</EntityTable>
