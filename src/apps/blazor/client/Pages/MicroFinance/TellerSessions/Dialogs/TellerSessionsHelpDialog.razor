<MudDialog>
    <TitleContent>
        <MudText Typo="Typo.h6">
            <MudIcon Icon="@Icons.Material.Filled.Help" Class="mr-2" />
            Teller Sessions Help
        </MudText>
    </TitleContent>
    <DialogContent>
        <MudExpansionPanels MultiExpansion="true">
            <MudExpansionPanel Text="Overview" IsInitiallyExpanded="true">
                <MudText>
                    Teller Sessions track the daily operations of each teller, including opening balance,
                    all cash transactions during the day, and closing balance reconciliation. This ensures
                    accountability and accurate cash management at the branch level.
                </MudText>
            </MudExpansionPanel>

            <MudExpansionPanel Text="Session Lifecycle">
                <MudList T="string" Dense="true">
                    <MudListItem Icon="@Icons.Material.Filled.PlayArrow">
                        <strong>Open Session</strong> - Start your day by counting and entering your opening balance
                    </MudListItem>
                    <MudListItem Icon="@Icons.Material.Filled.AddCircle">
                        <strong>Cash In</strong> - Record deposits and other cash received
                    </MudListItem>
                    <MudListItem Icon="@Icons.Material.Filled.RemoveCircle">
                        <strong>Cash Out</strong> - Record withdrawals and disbursements
                    </MudListItem>
                    <MudListItem Icon="@Icons.Material.Filled.Pause">
                        <strong>Pause Session</strong> - Temporarily suspend (e.g., for lunch)
                    </MudListItem>
                    <MudListItem Icon="@Icons.Material.Filled.PlayArrow">
                        <strong>Resume Session</strong> - Continue after a pause
                    </MudListItem>
                    <MudListItem Icon="@Icons.Material.Filled.Close">
                        <strong>Close Session</strong> - End of day cash count and reconciliation
                    </MudListItem>
                    <MudListItem Icon="@Icons.Material.Filled.Verified">
                        <strong>Verify Session</strong> - Supervisor approval of closed session
                    </MudListItem>
                </MudList>
            </MudExpansionPanel>

            <MudExpansionPanel Text="Session Statuses">
                <MudList T="string" Dense="true">
                    <MudListItem Icon="@Icons.Material.Filled.Circle" IconColor="Color.Success">
                        <strong>Open</strong> - Active session, can process transactions
                    </MudListItem>
                    <MudListItem Icon="@Icons.Material.Filled.Circle" IconColor="Color.Warning">
                        <strong>Paused</strong> - Temporarily suspended
                    </MudListItem>
                    <MudListItem Icon="@Icons.Material.Filled.Circle" IconColor="Color.Default">
                        <strong>Closed</strong> - Day ended, awaiting verification
                    </MudListItem>
                    <MudListItem Icon="@Icons.Material.Filled.Circle" IconColor="Color.Info">
                        <strong>Verified</strong> - Approved by supervisor
                    </MudListItem>
                </MudList>
            </MudExpansionPanel>

            <MudExpansionPanel Text="Balance Calculation">
                <MudText Class="mb-2">Your current balance is calculated as:</MudText>
                <MudPaper Class="pa-3" Elevation="1">
                    <MudText Typo="Typo.body2">
                        <strong>Current Balance</strong> = Opening Balance + Total Cash In - Total Cash Out
                    </MudText>
                </MudPaper>
                <MudText Class="mt-3 mb-2">At closing:</MudText>
                <MudPaper Class="pa-3" Elevation="1">
                    <MudText Typo="Typo.body2">
                        <strong>Variance</strong> = Physical Count - System Balance
                    </MudText>
                </MudPaper>
            </MudExpansionPanel>

            <MudExpansionPanel Text="Handling Variances">
                <MudText>
                    If your physical count differs from the system balance:
                </MudText>
                <MudList T="string" Dense="true" Class="mt-2">
                    <MudListItem Icon="@Icons.Material.Filled.TrendingUp">
                        <strong>Overage</strong> - You have more cash than expected. Common causes:
                        <ul>
                            <li>Forgot to record a deposit</li>
                            <li>Customer overpayment</li>
                            <li>Transaction error</li>
                        </ul>
                    </MudListItem>
                    <MudListItem Icon="@Icons.Material.Filled.TrendingDown">
                        <strong>Shortage</strong> - You have less cash than expected. Common causes:
                        <ul>
                            <li>Forgot to record a withdrawal</li>
                            <li>Counting error</li>
                            <li>Unauthorized removal</li>
                        </ul>
                    </MudListItem>
                </MudList>
                <MudAlert Severity="Severity.Warning" Class="mt-2">
                    All variances must be explained and will be reviewed by a supervisor.
                </MudAlert>
            </MudExpansionPanel>

            <MudExpansionPanel Text="Best Practices">
                <MudList T="string" Dense="true">
                    <MudListItem Icon="@Icons.Material.Filled.Verified">
                        Count cash carefully at opening and closing
                    </MudListItem>
                    <MudListItem Icon="@Icons.Material.Filled.Verified">
                        Record transactions immediately
                    </MudListItem>
                    <MudListItem Icon="@Icons.Material.Filled.Verified">
                        Use denomination breakdowns for accuracy
                    </MudListItem>
                    <MudListItem Icon="@Icons.Material.Filled.Verified">
                        Pause session when stepping away
                    </MudListItem>
                    <MudListItem Icon="@Icons.Material.Filled.Verified">
                        Never leave cash unattended
                    </MudListItem>
                    <MudListItem Icon="@Icons.Material.Filled.Verified">
                        Report any discrepancies immediately
                    </MudListItem>
                </MudList>
            </MudExpansionPanel>
        </MudExpansionPanels>
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="@Close" Variant="Variant.Text" Color="Color.Primary">Close</MudButton>
    </DialogActions>
</MudDialog>

@code {
    [CascadingParameter]
    private IMudDialogInstance MudDialog { get; set; } = null!;

    private void Close() => MudDialog.Close();
}
