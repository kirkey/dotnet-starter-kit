@page "/store/serial-numbers"

<PageHeader Title="Serial Numbers" Header="Serial Number Tracking" SubHeader="Manage individual serial number tracking for items." />

<EntityTable @ref="_table" TEntity="SerialNumberResponse" TId="DefaultIdType" TRequest="SerialNumberViewModel" Context="@Context">
    <EditFormContent Context="context">
        @if (!Context.AddEditModal.IsCreate)
        {
            <MudItem xs="12" sm="6" md="4" lg="3">
                <MudTextField Value="context.Id" Underline=false ReadOnly Label="Serial Number Id" />
            </MudItem>
        }

        <MudItem xs="12" sm="6" md="4" lg="3">
            <MudTextField Label="Serial Number Value" For="@(() => context.SerialNumberValue)" @bind-Value="context.SerialNumberValue" Required="true" />
        </MudItem>

        <MudItem xs="12" sm="6" md="4" lg="3">
            <AutocompleteItem @bind-Value="context.ItemId"
                             For="@(() => context.ItemId)"
                             Label="Item"
                             Variant="Variant.Filled"
                             Required="true" />
        </MudItem>

        <MudItem xs="12" sm="6" md="4" lg="3">
            <MudSelect T="string" Label="Status" @bind-Value="context.Status" For="@(() => context.Status)" Variant="Variant.Filled">
                <MudSelectItem T="string" Value="@("Available")">Available</MudSelectItem>
                <MudSelectItem T="string" Value="@("Allocated")">Allocated</MudSelectItem>
                <MudSelectItem T="string" Value="@("Shipped")">Shipped</MudSelectItem>
                <MudSelectItem T="string" Value="@("Sold")">Sold</MudSelectItem>
                <MudSelectItem T="string" Value="@("Defective")">Defective</MudSelectItem>
                <MudSelectItem T="string" Value="@("Returned")">Returned</MudSelectItem>
                <MudSelectItem T="string" Value="@("InRepair")">In Repair</MudSelectItem>
                <MudSelectItem T="string" Value="@("Scrapped")">Scrapped</MudSelectItem>
            </MudSelect>
        </MudItem>

        <MudItem xs="12" md="4">
            <MudDatePicker Label="Receipt Date" Date="context.ReceiptDate" For="@(() => context.ReceiptDate)" />
        </MudItem>

        <MudItem xs="12" md="4">
            <MudDatePicker Label="Manufacture Date" Date="context.ManufactureDate" DateChanged="@((DateTime? val) => context.ManufactureDate = val)" For="@(() => context.ManufactureDate)" />
        </MudItem>

        <MudItem xs="12" md="4">
            <MudDatePicker Label="Warranty Expiration" Date="context.WarrantyExpirationDate" DateChanged="@((DateTime? val) => context.WarrantyExpirationDate = val)" For="@(() => context.WarrantyExpirationDate)" />
        </MudItem>

        <MudItem xs="12" sm="6" md="4" lg="3">
            <MudTextField Label="External Reference" For="@(() => context.ExternalReference)" @bind-Value="context.ExternalReference" />
        </MudItem>

        <MudItem xs="12">
            <MudTextField Label="Notes" For="@(() => context.Notes)" @bind-Value="context.Notes" Lines="3" />
        </MudItem>
    </EditFormContent>
</EntityTable>
