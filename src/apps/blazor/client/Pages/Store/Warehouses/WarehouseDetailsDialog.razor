<MudDialog>
    <DialogContent>
        @if (_isLoading)
        {
            <MudProgressLinear Color="Color.Primary" Indeterminate="true" />
            <MudText Align="Align.Center" Class="my-4">Loading warehouse details...</MudText>
        }
        else if (_warehouse is not null)
        {
            <MudGrid>
                @* General Information *@
                <MudItem xs="12">
                    <MudText Typo="Typo.h6" Color="Color.Primary">General Information</MudText>
                    <MudDivider Class="mb-4" />
                </MudItem>

                <MudItem xs="12" sm="6">
                    <MudField Label="Warehouse Code" Variant="Variant.Outlined">
                        @_warehouse.Code
                    </MudField>
                </MudItem>

                <MudItem xs="12" sm="6">
                    <MudField Label="Warehouse Name" Variant="Variant.Outlined">
                        @_warehouse.Name
                    </MudField>
                </MudItem>

                <MudItem xs="12">
                    <MudField Label="Description" Variant="Variant.Outlined">
                        @(_warehouse.Description ?? "N/A")
                    </MudField>
                </MudItem>

                <MudItem xs="12">
                    <MudField Label="Address" Variant="Variant.Outlined">
                        @_warehouse.Address
                    </MudField>
                </MudItem>

                <MudItem xs="12" sm="6">
                    <MudField Label="Warehouse Type" Variant="Variant.Outlined">
                        @_warehouse.WarehouseType
                    </MudField>
                </MudItem>

                <MudItem xs="12" sm="6">
                    <MudStack Row="true" Spacing="2">
                        <MudChip T="string" Color="@GetStatusColor(_warehouse.IsActive)" Size="Size.Small" Variant="Variant.Filled">
                            @(_warehouse.IsActive ? "Active" : "Inactive")
                        </MudChip>
                        @if (_warehouse.IsMainWarehouse)
                        {
                            <MudChip T="string" Color="Color.Primary" Size="Size.Small" Icon="@Icons.Material.Filled.Star">
                                Main Warehouse
                            </MudChip>
                        }
                    </MudStack>
                </MudItem>

                @* Capacity Information *@
                <MudItem xs="12" Class="mt-4">
                    <MudText Typo="Typo.h6" Color="Color.Primary">Capacity Information</MudText>
                    <MudDivider Class="mb-4" />
                </MudItem>

                <MudItem xs="12" sm="6">
                    <MudField Label="Total Capacity" Variant="Variant.Outlined">
                        @_warehouse.TotalCapacity.ToString("N2")
                    </MudField>
                </MudItem>

                <MudItem xs="12" sm="6">
                    <MudField Label="Capacity Unit" Variant="Variant.Outlined">
                        @_warehouse.CapacityUnit
                    </MudField>
                </MudItem>

                @* Manager Information *@
                <MudItem xs="12" Class="mt-4">
                    <MudText Typo="Typo.h6" Color="Color.Primary">Manager Information</MudText>
                    <MudDivider Class="mb-4" />
                </MudItem>

                <MudItem xs="12" sm="6">
                    <MudField Label="Manager Name" Variant="Variant.Outlined">
                        @_warehouse.ManagerName
                    </MudField>
                </MudItem>

                <MudItem xs="12" sm="6">
                    <MudField Label="Manager Email" Variant="Variant.Outlined">
                        <MudLink Href="@($"mailto:{_warehouse.ManagerEmail}")">
                            @_warehouse.ManagerEmail
                        </MudLink>
                    </MudField>
                </MudItem>

                <MudItem xs="12" sm="6">
                    <MudField Label="Manager Phone" Variant="Variant.Outlined">
                        <MudLink Href="@($"tel:{_warehouse.ManagerPhone}")">
                            @_warehouse.ManagerPhone
                        </MudLink>
                    </MudField>
                </MudItem>

                @* Additional Information *@
                @if (!string.IsNullOrWhiteSpace(_warehouse.Notes))
                {
                    <MudItem xs="12" Class="mt-4">
                        <MudText Typo="Typo.h6" Color="Color.Primary">Additional Notes</MudText>
                        <MudDivider Class="mb-4" />
                    </MudItem>

                    <MudItem xs="12">
                        <MudField Label="Notes" Variant="Variant.Outlined" Lines="3">
                            @_warehouse.Notes
                        </MudField>
                    </MudItem>
                }
            </MudGrid>
        }
        else
        {
            <MudAlert Severity="Severity.Warning">Warehouse not found.</MudAlert>
        }
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="@Cancel" Color="Color.Default">Close</MudButton>
    </DialogActions>
</MudDialog>

