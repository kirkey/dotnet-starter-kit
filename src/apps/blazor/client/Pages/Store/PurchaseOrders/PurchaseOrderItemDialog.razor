<MudDialog>
    <DialogContent>
        <MudForm @ref="_form" Model="@Model">
            <MudGrid>
                <MudItem xs="12">
                    <AutocompleteItem @bind-Value="Model.ItemId"
                                     For="@(() => Model.ItemId)"
                                     Label="Item"
                                     Variant="Variant.Filled"
                                     Required="true"
                                     SupplierId="@SupplierId" />
                </MudItem>

                <MudItem xs="12" sm="6">
                    <MudNumericField @bind-Value="Model.Quantity"
                                     Label="Quantity"
                                     For="@(() => Model.Quantity)"
                                     Format="N2"
                                     Required="true"
                                     Min="1"
                                     Variant="Variant.Filled" />
                </MudItem>

                <MudItem xs="12" sm="6">
                    <MudNumericField T="decimal" @bind-Value="Model.UnitPrice"
                                     Label="Unit Price"
                                     For="@(() => Model.UnitPrice)"
                                     Required="true"
                                     Min="0"
                                     Format="N2"
                                     Variant="Variant.Filled" />
                </MudItem>

                <MudItem xs="12" sm="6">
                    <MudNumericField T="decimal" @bind-Value="Model.DiscountAmount"
                                     Label="Discount Amount"
                                     For="@(() => Model.DiscountAmount)"
                                     Min="0"
                                     Format="N2"
                                     Variant="Variant.Filled" />
                </MudItem>

                <MudItem xs="12" sm="6">
                    <MudNumericField @bind-Value="Model.ReceivedQuantity"
                                     Label="Received Quantity"
                                     For="@(() => Model.ReceivedQuantity)"
                                     Format="N2"
                                     Min="0"
                                     Variant="Variant.Filled"
                                     ReadOnly="@(Model.Id == DefaultIdType.Empty)" />
                </MudItem>

                <MudItem xs="12">
                    <MudTextField @bind-Value="Model.Notes"
                                  Label="Notes"
                                  For="@(() => Model.Notes)"
                                  Lines="3"
                                  Variant="Variant.Filled" />
                </MudItem>
            </MudGrid>
        </MudForm>
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="@(() => Cancel())">Cancel</MudButton>
        <MudButton Color="Color.Primary" OnClick="@(() => SaveAsync())" Variant="Variant.Filled">
            @(Model.Id == DefaultIdType.Empty ? "Add" : "Update")
        </MudButton>
    </DialogActions>
</MudDialog>

