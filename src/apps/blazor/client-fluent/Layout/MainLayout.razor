@inherits MainLayoutComponent

<FluentHeader>
    <FluentStack Orientation="Orientation.Horizontal" VerticalAlignment="VerticalAlignment.Center">
        <FluentButton IconStart="@(new Icons.Regular.Size20.Navigation())"
                      Appearance="Appearance.Stealth"
                      OnClick="@(() => _drawerOpen = !_drawerOpen)" />
        
        <FluentAnchor Href="/" Appearance="Appearance.Stealth">
            <FluentLabel Typo="Typography.H5" Color="Color.Accent">fullstackhero</FluentLabel>
        </FluentAnchor>
        
        <FluentSpacer />
        
        @* Desktop Navigation *@
        <FluentStack Orientation="Orientation.Horizontal" 
                    VerticalAlignment="VerticalAlignment.Center"
                    Class="desktop-nav">
            <FluentButton Href="https://opencollective.com/fullstackhero"
                         Appearance="Appearance.Accent"
                         Target="_blank"
                         IconStart="@(new Icons.Regular.Size16.Heart())">
                Sponsor
            </FluentButton>
            
            <FluentButton IconStart="@(_isDarkMode ? new Icons.Regular.Size20.WeatherSunny() : new Icons.Regular.Size20.WeatherMoon())"
                         Appearance="Appearance.Stealth"
                         OnClick="@ToggleDarkMode"
                         Title="@(_isDarkMode ? "Switch to Light Mode" : "Switch to Dark Mode")" />
            
            <FluentMenu>
                <FluentButton IconStart="@(new Icons.Regular.Size20.QuestionCircle())"
                             Appearance="Appearance.Stealth"
                             slot="trigger">
                    Support
                </FluentButton>
                <FluentMenuItem>
                    <FluentLabel><strong>Community</strong></FluentLabel>
                </FluentMenuItem>
                <FluentMenuItem>
                    <FluentAnchor Href="https://discord.gg/yQWpShsKrf" Target="_blank">Discord</FluentAnchor>
                </FluentMenuItem>
                <FluentMenuItem>
                    <FluentAnchor Href="https://www.facebook.com/codewithmukesh" Target="_blank">Facebook</FluentAnchor>
                </FluentMenuItem>
                <FluentMenuItem>
                    <FluentAnchor Href="https://www.linkedin.com/in/iammukeshm/" Target="_blank">LinkedIn</FluentAnchor>
                </FluentMenuItem>
                <FluentMenuItem>
                    <FluentAnchor Href="https://www.buymeacoffee.com/codewithmukesh" Target="_blank">Buy Me a Coffee!</FluentAnchor>
                </FluentMenuItem>
                <FluentDivider />
                <FluentMenuItem>
                    <FluentLabel><strong>Resources</strong></FluentLabel>
                </FluentMenuItem>
                <FluentMenuItem>
                    <FluentAnchor Href="https://fullstackhero.net/" Target="_blank">Documentation</FluentAnchor>
                </FluentMenuItem>
            </FluentMenu>
            
            <FluentButton IconStart="@(new Icons.Regular.Size20.BranchFork())"
                         Appearance="Appearance.Stealth"
                         Href="https://github.com/fullstackhero/dotnet-starter-kit"
                         Target="_blank"
                         Title="Fork Repository" />
        </FluentStack>
        
        @* Mobile Navigation *@
        <FluentStack Orientation="Orientation.Horizontal" 
                    VerticalAlignment="VerticalAlignment.Center"
                    Class="mobile-nav">
            <FluentButton IconStart="@(new Icons.Regular.Size20.Heart())"
                         Appearance="Appearance.Stealth"
                         Href="https://opencollective.com/fullstackhero"
                         Target="_blank"
                         Title="Sponsor" />
            
            <FluentMenu>
                <FluentButton IconStart="@(new Icons.Regular.Size20.Settings())"
                             Appearance="Appearance.Stealth"
                             slot="trigger" />
                <FluentMenuItem>
                    <FluentStack Orientation="Orientation.Horizontal">
                        <FluentButton IconStart="@(new Icons.Regular.Size20.BranchFork())"
                                     Appearance="Appearance.Stealth"
                                     Href="https://github.com/fullstackhero/dotnet-starter-kit"
                                     Target="_blank" />
                        <FluentButton IconStart="@(new Icons.Regular.Size20.Heart())"
                                     Appearance="Appearance.Stealth"
                                     Href="https://www.buymeacoffee.com/codewithmukesh"
                                     Target="_blank" />
                    </FluentStack>
                </FluentMenuItem>
                <FluentDivider />
                <FluentMenuItem>
                    <FluentLabel><strong>Community</strong></FluentLabel>
                </FluentMenuItem>
                <FluentMenuItem>
                    <FluentAnchor Href="https://discord.gg/yQWpShsKrf" Target="_blank">Discord</FluentAnchor>
                </FluentMenuItem>
                <FluentMenuItem>
                    <FluentAnchor Href="https://www.facebook.com/codewithmukesh" Target="_blank">Facebook</FluentAnchor>
                </FluentMenuItem>
                <FluentMenuItem>
                    <FluentAnchor Href="https://www.linkedin.com/in/iammukeshm/" Target="_blank">LinkedIn</FluentAnchor>
                </FluentMenuItem>
                <FluentDivider />
                <FluentMenuItem>
                    <FluentLabel><strong>Resources</strong></FluentLabel>
                </FluentMenuItem>
                <FluentMenuItem>
                    <FluentAnchor Href="https://learn.microsoft.com/en-us/fluent-ui/web-components/" Target="_blank">
                        Fluent UI Documentation
                    </FluentAnchor>
                </FluentMenuItem>
                <FluentMenuItem>
                    <FluentAnchor Href="https://fullstackhero.net/getting-started/" Target="_blank">
                        Quick-Start Guide
                    </FluentAnchor>
                </FluentMenuItem>
            </FluentMenu>
        </FluentStack>
        
        @* User Menu *@
        <FluentMenu>
            <FluentButton IconStart="@(new Icons.Regular.Size20.Person())"
                         Appearance="Appearance.Stealth"
                         slot="trigger" />
            <FluentMenuItem OnClick="Profile">
                <FluentStack Orientation="Orientation.Horizontal" VerticalAlignment="VerticalAlignment.Center">
                    <FluentIcon Value="@(new Icons.Regular.Size16.Person())" />
                    <FluentLabel>Account</FluentLabel>
                </FluentStack>
            </FluentMenuItem>
            <FluentMenuItem>
                <FluentAnchor Href="/dashboard">
                    <FluentStack Orientation="Orientation.Horizontal" VerticalAlignment="VerticalAlignment.Center">
                        <FluentIcon Value="@(new Icons.Regular.Size16.Grid())" />
                        <FluentLabel>Dashboard</FluentLabel>
                    </FluentStack>
                </FluentAnchor>
            </FluentMenuItem>
            <FluentDivider />
            <FluentMenuItem OnClick="Logout">
                <FluentStack Orientation="Orientation.Horizontal" VerticalAlignment="VerticalAlignment.Center">
                    <FluentIcon Value="@(new Icons.Regular.Size16.ArrowExit())" Color="Color.Error" />
                    <FluentLabel Color="Color.Error">Logout</FluentLabel>
                </FluentStack>
            </FluentMenuItem>
        </FluentMenu>
    </FluentStack>
</FluentHeader>

<FluentStack Orientation="Orientation.Horizontal" Class="main-container">
    <FluentNavMenu @bind-Expanded="_drawerOpen" 
                   Width="280"
                   Collapsible="true"
                   Title="Navigation">
        <NavMenu />
    </FluentNavMenu>
    
    <FluentMainContent Class="main-content">
        <div class="content-container">
            @ChildContent
            <FluentAnchor Href="#top" 
                         Class="scroll-to-top"
                         Title="Scroll to top">
                <FluentButton IconStart="@(new Icons.Regular.Size20.ArrowUp())"
                             Appearance="Appearance.Accent" />
            </FluentAnchor>
        </div>
    </FluentMainContent>
</FluentStack>

<style>
    .main-container {
        height: calc(100vh - 48px);
    }
    
    .main-content {
        flex: 1;
        overflow: auto;
    }
    
    .content-container {
        padding: 24px;
        position: relative;
    }
    
    .scroll-to-top {
        position: fixed;
        bottom: 24px;
        right: 24px;
        z-index: 1000;
    }
    
    .desktop-nav {
        display: flex;
    }
    
    .mobile-nav {
        display: none;
    }
    
    @media screen and (max-width: 768px) {
        .desktop-nav {
            display: none;
        }
        
        .mobile-nav {
            display: flex;
        }
    }
</style>
