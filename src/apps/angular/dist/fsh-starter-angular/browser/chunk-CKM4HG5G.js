import{a as F}from"./chunk-54Y4DRWD.js";import"./chunk-NVQOZQVQ.js";import{a as Z,b as ee}from"./chunk-W3KLVANU.js";import{b as X,c as Y}from"./chunk-PWWEDEIH.js";import{a as te}from"./chunk-7KJ65VC4.js";import"./chunk-6DVBLYGH.js";import{a as $,b as j,c as W,d as U,e as H,f as J,i as K,j as Q}from"./chunk-SJC5YX7W.js";import{b as N,d as c,g as z,h as q,j as A,l as B,m as R,n as G,o as V}from"./chunk-CLHQ2KW2.js";import{a as O,b as L}from"./chunk-HJNRPNVI.js";import"./chunk-VHOF7A3Y.js";import{a as T,c as D,d as I}from"./chunk-BMFJVSWS.js";import"./chunk-CARY4E7O.js";import{b as E,c as w,g as k}from"./chunk-E7PAFU6A.js";import"./chunk-TPD4TER6.js";import{Db as e,Eb as t,Fb as h,Mb as C,Tc as y,Yb as i,Za as r,Zb as S,d as b,ec as P,ha as p,ib as M,la as v,pb as x,ub as _,zb as d}from"./chunk-LWQQNMXP.js";function ie(o,s){o&1&&(e(0,"mat-error"),i(1,"Email is required"),t())}function ne(o,s){o&1&&(e(0,"mat-error"),i(1,"Please enter a valid email"),t())}function oe(o,s){o&1&&(e(0,"mat-error"),i(1,"Password is required"),t())}function re(o,s){o&1&&(e(0,"mat-error"),i(1,"Password must be at least 6 characters"),t())}function ae(o,s){o&1&&(h(0,"mat-spinner",20),e(1,"span"),i(2,"Signing in..."),t())}function le(o,s){o&1&&(e(0,"mat-icon"),i(1,"login"),t(),e(2,"span"),i(3,"Sign In"),t())}var Oe=(()=>{class o{fb=p(G);authService=p(F);router=p(E);notification=p(te);hidePassword=M(!0);isLoading=M(!1);loginForm=this.fb.group({email:["",[c.required,c.email]],password:["",[c.required,c.minLength(6)]],rememberMe:[!1]});togglePassword(){this.hidePassword.update(a=>!a)}fillDemoCredentials(){this.loginForm.patchValue({email:"admin@root.com",password:"123Pa$$word!"})}onSubmit(){return b(this,null,function*(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}this.isLoading.set(!0);try{let{email:a,password:m}=this.loginForm.value;yield this.authService.login({email:a,password:m}).toPromise(),this.notification.success("Welcome back!"),this.router.navigate(["/"])}catch(a){this.notification.error(a?.message||"Login failed. Please try again.")}finally{this.isLoading.set(!1)}})}static \u0275fac=function(m){return new(m||o)};static \u0275cmp=v({type:o,selectors:[["app-login"]],standalone:!0,features:[P],decls:49,vars:9,consts:[[1,"login-container"],[1,"login-title"],[1,"login-subtitle"],[1,"login-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","type","email","formControlName","email","placeholder","Enter your email","autocomplete","email"],["matPrefix",""],["matInput","","formControlName","password","placeholder","Enter your password","autocomplete","current-password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[1,"form-extras"],["formControlName","rememberMe","color","primary"],["routerLink","/auth/forgot-password",1,"forgot-link"],["mat-raised-button","","color","primary","type","submit",1,"submit-btn",3,"disabled"],[1,"divider"],[1,"register-prompt"],["routerLink","/auth/register",1,"register-link"],[1,"demo-credentials"],[1,"demo-title"],[1,"demo-info"],["mat-stroked-button","","color","accent","type","button",3,"click"],["diameter","20"]],template:function(m,n){if(m&1&&(e(0,"div",0)(1,"h2",1),i(2,"Welcome Back"),t(),e(3,"p",2),i(4,"Sign in to continue to your account"),t(),e(5,"form",3),C("ngSubmit",function(){return n.onSubmit()}),e(6,"mat-form-field",4)(7,"mat-label"),i(8,"Email"),t(),h(9,"input",5),e(10,"mat-icon",6),i(11,"email"),t(),x(12,ie,2,0,"mat-error")(13,ne,2,0,"mat-error"),t(),e(14,"mat-form-field",4)(15,"mat-label"),i(16,"Password"),t(),h(17,"input",7),e(18,"mat-icon",6),i(19,"lock"),t(),e(20,"button",8),C("click",function(){return n.togglePassword()}),e(21,"mat-icon"),i(22),t()(),x(23,oe,2,0,"mat-error")(24,re,2,0,"mat-error"),t(),e(25,"div",9)(26,"mat-checkbox",10),i(27," Remember me "),t(),e(28,"a",11),i(29," Forgot password? "),t()(),e(30,"button",12),x(31,ae,3,0)(32,le,4,0),t()(),e(33,"div",13)(34,"span"),i(35,"or"),t()(),e(36,"p",14),i(37," Don't have an account? "),e(38,"a",15),i(39,"Sign up"),t()(),e(40,"div",16)(41,"p",17),i(42,"Demo Credentials:"),t(),e(43,"p",18),i(44,"Email: admin@root.com"),t(),e(45,"p",18),i(46,"Password: 123Pa$$word!"),t(),e(47,"button",19),C("click",function(){return n.fillDemoCredentials()}),i(48," Use Demo Account "),t()()()),m&2){let l,u,g,f;r(5),_("formGroup",n.loginForm),r(7),d((l=n.loginForm.get("email"))!=null&&l.hasError("required")&&((l=n.loginForm.get("email"))!=null&&l.touched)?12:-1),r(),d((u=n.loginForm.get("email"))!=null&&u.hasError("email")&&((u=n.loginForm.get("email"))!=null&&u.touched)?13:-1),r(4),_("type",n.hidePassword()?"password":"text"),r(5),S(n.hidePassword()?"visibility_off":"visibility"),r(),d((g=n.loginForm.get("password"))!=null&&g.hasError("required")&&((g=n.loginForm.get("password"))!=null&&g.touched)?23:-1),r(),d((f=n.loginForm.get("password"))!=null&&f.hasError("minlength")&&((f=n.loginForm.get("password"))!=null&&f.touched)?24:-1),r(6),_("disabled",n.isLoading()||n.loginForm.invalid),r(),d(n.isLoading()?31:32)}},dependencies:[y,k,w,V,A,N,z,q,B,R,Q,K,W,U,H,J,Y,X,I,T,D,L,O,ee,Z,j,$],styles:['.login-container[_ngcontent-%COMP%]{text-align:center}.login-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin:0 0 8px;color:var(--text-primary)}.login-subtitle[_ngcontent-%COMP%]{font-size:14px;color:var(--text-secondary);margin:0 0 24px}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.full-width[_ngcontent-%COMP%]{width:100%}.form-extras[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:-8px 0 8px}.forgot-link[_ngcontent-%COMP%]{font-size:13px;color:var(--primary-color);text-decoration:none}.forgot-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.submit-btn[_ngcontent-%COMP%]{height:48px;font-size:16px;display:flex;align-items:center;justify-content:center;gap:8px}.submit-btn[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;margin:24px 0}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;height:1px;background:var(--border-color)}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 16px;color:var(--text-secondary);font-size:13px}.register-prompt[_ngcontent-%COMP%]{font-size:14px;color:var(--text-secondary);margin:0}.register-link[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:500}.register-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.demo-credentials[_ngcontent-%COMP%]{margin-top:24px;padding:16px;background:rgba(var(--primary-color-rgb, 89, 74, 226),.05);border-radius:8px;border:1px dashed var(--primary-color)}.demo-title[_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:var(--text-primary);margin:0 0 8px}.demo-info[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);margin:4px 0;font-family:monospace}.demo-credentials[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:12px}']})}return o})();export{Oe as LoginComponent};
