import{a as P,b as pe,f as ue}from"./chunk-SGCXT6IT.js";import{a as re,b as le,c as me,d as se}from"./chunk-NCENWM77.js";import{d as xt}from"./chunk-FPCZEYFZ.js";import{a as Ct,b as ht,c as Tt,f as vt,g as St}from"./chunk-NTPCJOWJ.js";import"./chunk-4IQRVVSS.js";import{a as Gt,b as Kt,c as Jt,d as Wt,e as Xt}from"./chunk-KYECD3ND.js";import{a as Ut,b as Rt,c as $t,d as At,e as Nt,f as qt,g as zt,h as Ht,i as Lt,j as Qt,k as jt,l as Bt}from"./chunk-JDCNVKL3.js";import{c as te,d as ee,e as ne,f as ie,g as ae,h as oe,i as ce}from"./chunk-ZPZARE4P.js";import{b as Yt,c as Zt}from"./chunk-IMNAVXVZ.js";import{a as de}from"./chunk-MEZ4YZNT.js";import{b as gt}from"./chunk-XN4KGKLA.js";import{a as nt,b as it,c as at,d as ot}from"./chunk-HHGQWT7L.js";import"./chunk-R6QGXIMR.js";import{a as It}from"./chunk-XZK5SHMD.js";import{a as Pt,b as Ot}from"./chunk-BK3PSTX2.js";import{b as Mt,c as bt,d as wt,e as Et,f as Dt,i as yt,j as kt,k as Ft,l as Vt}from"./chunk-FCCRYPII.js";import{a as rt,b as lt}from"./chunk-LSYIZ5ZS.js";import{b as mt,d as w,g as st,h as ct,k as dt,m as pt,n as ut,o as _t,q as ft}from"./chunk-BLGZ2ZXV.js";import{a as X,b as Y}from"./chunk-36HQY7RT.js";import{a as J}from"./chunk-7FXRJWRW.js";import"./chunk-OEMMV5VK.js";import{a as Z,c as tt,d as et}from"./chunk-U2EMCCYP.js";import"./chunk-VLA6YYWX.js";import{Y as W,a as K}from"./chunk-NW6BZQUB.js";import"./chunk-CARY4E7O.js";import{Bb as n,Cb as i,Db as _,Eb as S,Fb as M,Hb as h,Kb as C,Mb as d,Pc as B,Qb as U,Rb as R,Sb as $,Sc as G,Vb as A,Wa as l,Wb as a,Xb as b,Yb as y,_ as z,cc as L,dc as N,ea as v,fb as T,gc as Q,ia as H,ic as j,jc as q,mb as c,qa as f,qb as V,ra as g,rb as x,ub as I,wb as p,xc as k}from"./chunk-ENBBOSSX.js";import{a as O,b as F,d as D}from"./chunk-4CLCTAJ7.js";var _e=(()=>{class e{http=v(K);apiUrl=`${J.apiUrl}/tenants`;getTenants(){return this.http.get(this.apiUrl)}getTenant(t){return this.http.get(`${this.apiUrl}/${t}`)}createTenant(t){return this.http.post(this.apiUrl,t)}activateTenant(t){return this.http.post(`${this.apiUrl}/${t}/activate`,{})}deactivateTenant(t){return this.http.post(`${this.apiUrl}/${t}/deactivate`,{})}upgradeSubscription(t){return this.http.post(`${this.apiUrl}/upgrade`,t)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ge=["tenantDialog"],xe=["upgradeDialog"],Ce=()=>["expandedDetail"],he=()=>[5,10,25,50];function Te(e,m){if(e&1){let t=h();n(0,"button",33),C("click",function(){f(t);let r=d();return g(r.clearSearch())}),n(1,"mat-icon"),a(2,"close"),i()()}}function ve(e,m){if(e&1){let t=h();n(0,"button",34),C("click",function(){f(t);let r=d();return g(r.openTenantDialog())}),n(1,"mat-icon"),a(2,"add_business"),i(),a(3," Add Tenant "),i()}}function Se(e,m){e&1&&(n(0,"div",16),_(1,"mat-spinner",35),i())}function Me(e,m){e&1&&(n(0,"th",36),a(1,"ID"),i())}function be(e,m){if(e&1&&(n(0,"td",37)(1,"code",38),a(2),i()()),e&2){let t=m.$implicit;l(2),b(t.id)}}function we(e,m){e&1&&(n(0,"th",36),a(1,"Name"),i())}function Ee(e,m){if(e&1&&(n(0,"td",37)(1,"div",39),a(2),i()()),e&2){let t=m.$implicit;l(2),b(t.name)}}function De(e,m){e&1&&(n(0,"th",36),a(1,"Admin Email"),i())}function ye(e,m){if(e&1&&(n(0,"td",37),a(1),i()),e&2){let t=m.$implicit;l(),b(t.adminEmail)}}function ke(e,m){e&1&&(n(0,"th",36),a(1,"Valid Until"),i())}function Pe(e,m){if(e&1&&(n(0,"td",37)(1,"span"),a(2),Q(3,"date"),i()()),e&2){let t=m.$implicit,o=d();l(),I(o.isExpired(t.validUpto)?"expired":o.isExpiringSoon(t.validUpto)?"expiring-soon":""),l(),y(" ",j(3,3,t.validUpto,"MMM dd, yyyy")," ")}}function Oe(e,m){e&1&&(n(0,"th",36),a(1,"Status"),i())}function Fe(e,m){if(e&1&&(n(0,"td",37)(1,"mat-chip"),a(2),i()()),e&2){let t=m.$implicit;l(),I(t.isActive?"status-active":"status-inactive"),l(),y(" ",t.isActive?"Active":"Inactive"," ")}}function Ve(e,m){e&1&&_(0,"th",40)}function Ie(e,m){if(e&1){let t=h();n(0,"button",43),C("click",function(){f(t);let r=d().$implicit,s=d();return g(s.openUpgradeDialog(r))}),n(1,"mat-icon"),a(2,"upgrade"),i(),n(3,"span"),a(4,"Upgrade Subscription"),i()()}}function Ue(e,m){if(e&1){let t=h();n(0,"button",46),C("click",function(){f(t);let r=d(2).$implicit,s=d();return g(s.activateTenant(r))}),n(1,"mat-icon"),a(2,"check_circle"),i(),n(3,"span"),a(4,"Activate Tenant"),i()()}}function Re(e,m){if(e&1){let t=h();n(0,"button",47),C("click",function(){f(t);let r=d(2).$implicit,s=d();return g(s.deactivateTenant(r))}),n(1,"mat-icon"),a(2,"block"),i(),n(3,"span"),a(4,"Deactivate Tenant"),i()()}}function $e(e,m){if(e&1&&(_(0,"mat-divider"),c(1,Ue,5,0,"button",44)(2,Re,5,0,"button",45)),e&2){let t=d().$implicit;l(),p(t.isActive?2:1)}}function Ae(e,m){if(e&1){let t=h();n(0,"td",37)(1,"button",41)(2,"mat-icon"),a(3,"more_vert"),i()(),n(4,"mat-menu",null,2),c(6,Ie,5,0,"button",42),n(7,"button",43),C("click",function(){let r=f(t).$implicit,s=d();return g(s.toggleDetails(r))}),n(8,"mat-icon"),a(9),i(),n(10,"span"),a(11),i()(),c(12,$e,3,1),i()()}if(e&2){let t=m.$implicit,o=A(5),r=d();l(),x("matMenuTriggerFor",o),l(5),p(r.canUpgrade()?6:-1),l(3),b(t.showDetails?"visibility_off":"visibility"),l(2),y("",t.showDetails?"Hide":"Show"," Details"),l(),p(r.canUpdate()?12:-1)}}function Ne(e,m){e&1&&(n(0,"mat-chip",53),a(1,"Dedicated Database"),i())}function qe(e,m){e&1&&(n(0,"mat-chip",54),a(1,"Shared Database"),i())}function ze(e,m){if(e&1&&(n(0,"div",55)(1,"span",52),a(2,"Connection String:"),i(),n(3,"code",56),a(4),i()()),e&2){let t=d(2).$implicit;l(4),b(t.connectionString)}}function He(e,m){if(e&1&&(n(0,"div",48)(1,"mat-card",49)(2,"mat-card-header")(3,"mat-card-title"),a(4),i()(),n(5,"mat-card-content")(6,"div",50)(7,"div",51)(8,"span",52),a(9,"Database:"),i(),c(10,Ne,2,0,"mat-chip",53)(11,qe,2,0,"mat-chip",54),i(),c(12,ze,5,1,"div",55),n(13,"div",51)(14,"span",52),a(15,"Issuer:"),i(),n(16,"span"),a(17),i()()()()()()),e&2){let t=d().$implicit;l(4),y("Tenant Details: ",t.id,""),l(6),p(t.connectionString?10:11),l(2),p(t.connectionString?12:-1),l(5),b(t.issuer||"Default")}}function Le(e,m){if(e&1&&(n(0,"td",37),c(1,He,18,4,"div",48),i()),e&2){let t=m.$implicit,o=d();V("colspan",o.displayedColumns.length),l(),p(t.showDetails?1:-1)}}function Qe(e,m){e&1&&_(0,"tr",57)}function je(e,m){e&1&&_(0,"tr",58)}function Be(e,m){e&1&&_(0,"tr",59)}function Ge(e,m){if(e&1){let t=h();n(0,"button",64),C("click",function(){f(t);let r=d(2);return g(r.clearSearch())}),a(1,"Clear search"),i()}}function Ke(e,m){if(e&1&&(n(0,"tr",60)(1,"td",61)(2,"div",62)(3,"mat-icon"),a(4,"search_off"),i(),n(5,"p"),a(6,"No tenants found"),i(),c(7,Ge,2,0,"button",63),i()()()),e&2){let t=d();l(),V("colspan",t.displayedColumns.length),l(6),p(t.searchQuery()?7:-1)}}function Je(e,m){e&1&&(n(0,"mat-error"),a(1,"Key is required"),i())}function We(e,m){e&1&&(n(0,"mat-error"),a(1,"Only lowercase letters, numbers, and hyphens allowed"),i())}function Xe(e,m){e&1&&(n(0,"mat-error"),a(1,"Name is required"),i())}function Ye(e,m){e&1&&(n(0,"mat-error"),a(1,"Admin email is required"),i())}function Ze(e,m){e&1&&(n(0,"mat-error"),a(1,"Invalid email format"),i())}function tn(e,m){e&1&&_(0,"mat-spinner",77)}function en(e,m){if(e&1){let t=h();n(0,"h2",65),a(1,"Add New Tenant"),i(),n(2,"mat-dialog-content")(3,"form",66)(4,"div",67)(5,"mat-form-field",68)(6,"mat-label"),a(7,"Key (ID)"),i(),_(8,"input",69),c(9,Je,2,0,"mat-error")(10,We,2,0,"mat-error"),i(),n(11,"mat-form-field",68)(12,"mat-label"),a(13,"Name"),i(),_(14,"input",70),c(15,Xe,2,0,"mat-error"),i()(),n(16,"mat-form-field",71)(17,"mat-label"),a(18,"Connection String"),i(),_(19,"input",72),n(20,"mat-hint"),a(21,"Leave blank to use the default shared database"),i()(),n(22,"mat-form-field",71)(23,"mat-label"),a(24,"Admin Email"),i(),_(25,"input",73),c(26,Ye,2,0,"mat-error")(27,Ze,2,0,"mat-error"),i()()(),n(28,"mat-dialog-actions",74)(29,"button",75),a(30,"Cancel"),i(),n(31,"button",76),C("click",function(){f(t);let r=d();return g(r.saveTenant())}),c(32,tn,1,0,"mat-spinner",77),a(33," Create Tenant "),i()()}if(e&2){let t,o,r,s,E,u=d();l(3),x("formGroup",u.tenantForm),l(6),p((t=u.tenantForm.get("id"))!=null&&t.hasError("required")?9:-1),l(),p((o=u.tenantForm.get("id"))!=null&&o.hasError("pattern")?10:-1),l(5),p((r=u.tenantForm.get("name"))!=null&&r.hasError("required")?15:-1),l(11),p((s=u.tenantForm.get("adminEmail"))!=null&&s.hasError("required")?26:-1),l(),p((E=u.tenantForm.get("adminEmail"))!=null&&E.hasError("email")?27:-1),l(4),x("disabled",u.tenantForm.invalid||u.isSaving()),l(),p(u.isSaving()?32:-1)}}function nn(e,m){e&1&&(n(0,"mat-error"),a(1,"Expiry date is required"),i())}function an(e,m){e&1&&_(0,"mat-spinner",77)}function on(e,m){if(e&1){let t=h();n(0,"h2",65),a(1,"Upgrade Subscription"),i(),n(2,"mat-dialog-content")(3,"form",78)(4,"p",79),a(5," Extend the subscription for tenant: "),n(6,"strong"),a(7),i()(),n(8,"mat-form-field",71)(9,"mat-label"),a(10,"New Expiry Date"),i(),_(11,"input",80)(12,"mat-datepicker-toggle",81)(13,"mat-datepicker",null,3),c(15,nn,2,0,"mat-error"),i()()(),n(16,"mat-dialog-actions",74)(17,"button",75),a(18,"Cancel"),i(),n(19,"button",76),C("click",function(){f(t);let r=d();return g(r.upgradeSubscription())}),c(20,an,1,0,"mat-spinner",77),a(21," Upgrade "),i()()}if(e&2){let t,o,r=A(14),s=d();l(3),x("formGroup",s.upgradeForm),l(4),b((t=s.selectedTenant())==null?null:t.name),l(4),x("matDatepicker",r),l(),x("for",r),l(3),p((o=s.upgradeForm.get("extendedExpiryDate"))!=null&&o.hasError("required")?15:-1),l(4),x("disabled",s.upgradeForm.invalid||s.isSaving()),l(),p(s.isSaving()?20:-1)}}var ni=(()=>{class e{tenantDialogTemplate;upgradeDialogTemplate;fb=v(_t);dialog=v(te);notification=v(de);tenantService=v(_e);permissionService=v(ue);tenants=T([]);isLoading=T(!1);isSaving=T(!1);searchQuery=T("");selectedTenant=T(null);pageIndex=T(0);pageSize=T(10);totalTenants=T(0);displayedColumns=["id","name","adminEmail","validUpto","isActive","actions"];tenantForm=this.fb.group({id:["",[w.required,w.pattern(/^[a-z0-9-]+$/)]],name:["",w.required],connectionString:[""],adminEmail:["",[w.required,w.email]]});upgradeForm=this.fb.group({extendedExpiryDate:[null,w.required]});canCreate=k(()=>this.permissionService.canCreate(P.Tenants));canUpdate=k(()=>this.permissionService.canUpdate(P.Tenants));canUpgrade=k(()=>this.permissionService.hasPermission(pe.UpgradeSubscription,P.Tenants));filteredTenants=k(()=>{let t=this.searchQuery().toLowerCase();return t?this.tenants().filter(o=>o.id?.toLowerCase().includes(t)||o.name?.toLowerCase().includes(t)||o.adminEmail?.toLowerCase().includes(t)):this.tenants()});ngOnInit(){this.loadTenants()}loadTenants(){return D(this,null,function*(){this.isLoading.set(!0);try{this.tenantService.getTenants().subscribe({next:t=>{this.tenants.set(t.map(o=>F(O({},o),{showDetails:!1}))),this.totalTenants.set(t.length),this.isLoading.set(!1)},error:t=>{this.notification.error("Failed to load tenants"),this.isLoading.set(!1),this.loadMockData()}})}catch{this.notification.error("Failed to load tenants"),this.isLoading.set(!1)}})}loadMockData(){let t=[{id:"root",name:"Root Tenant",adminEmail:"admin@root.com",validUpto:new Date("2025-12-31"),isActive:!0,showDetails:!1},{id:"demo",name:"Demo Company",adminEmail:"admin@demo.com",validUpto:new Date("2025-06-30"),isActive:!0,connectionString:"Server=localhost;Database=Demo;",showDetails:!1},{id:"test",name:"Test Organization",adminEmail:"admin@test.com",validUpto:new Date("2024-12-15"),isActive:!1,showDetails:!1}];this.tenants.set(t),this.totalTenants.set(t.length)}refreshTenants(){this.loadTenants()}onSearch(t){let o=t.target.value;this.searchQuery.set(o)}clearSearch(){this.searchQuery.set("")}onSort(t){console.log("Sort:",t)}onPageChange(t){this.pageIndex.set(t.pageIndex),this.pageSize.set(t.pageSize)}toggleDetails(t){this.tenants.update(o=>o.map(r=>F(O({},r),{showDetails:r.id===t.id?!r.showDetails:!1})))}openTenantDialog(){this.tenantForm.reset(),this.dialog.open(this.tenantDialogTemplate,{width:"500px"})}saveTenant(){return D(this,null,function*(){if(!this.tenantForm.invalid){this.isSaving.set(!0);try{let t=this.tenantForm.value;this.tenantService.createTenant(t).subscribe({next:()=>{this.notification.success("Tenant created successfully"),this.dialog.closeAll(),this.loadTenants(),this.isSaving.set(!1)},error:o=>{this.notification.error(o?.error?.message||"Failed to create tenant"),this.isSaving.set(!1)}})}catch{this.notification.error("Failed to create tenant"),this.isSaving.set(!1)}}})}openUpgradeDialog(t){this.selectedTenant.set(t),this.upgradeForm.patchValue({extendedExpiryDate:t.validUpto}),this.dialog.open(this.upgradeDialogTemplate,{width:"400px"})}upgradeSubscription(){return D(this,null,function*(){if(!(this.upgradeForm.invalid||!this.selectedTenant())){this.isSaving.set(!0);try{let t={tenant:this.selectedTenant().id,extendedExpiryDate:this.upgradeForm.value.extendedExpiryDate};this.tenantService.upgradeSubscription(t).subscribe({next:()=>{this.notification.success("Subscription upgraded successfully"),this.dialog.closeAll(),this.loadTenants(),this.isSaving.set(!1)},error:o=>{this.notification.error(o?.error?.message||"Failed to upgrade subscription"),this.isSaving.set(!1)}})}catch{this.notification.error("Failed to upgrade subscription"),this.isSaving.set(!1)}}})}activateTenant(t){return D(this,null,function*(){this.tenantService.activateTenant(t.id).subscribe({next:()=>{this.notification.success("Tenant activated"),this.loadTenants()},error:o=>{this.notification.error("Failed to activate tenant")}})})}deactivateTenant(t){return D(this,null,function*(){this.dialog.open(ce,{data:{title:"Deactivate Tenant",message:`Are you sure you want to deactivate ${t.name}? Users will not be able to access this tenant.`,confirmText:"Deactivate",cancelText:"Cancel"}}).afterClosed().subscribe(r=>{r&&this.tenantService.deactivateTenant(t.id).subscribe({next:()=>{this.notification.success("Tenant deactivated"),this.loadTenants()},error:s=>{this.notification.error("Failed to deactivate tenant")}})})})}isExpired(t){return new Date(t)<new Date}isExpiringSoon(t){let o=new Date;return o.setDate(o.getDate()+30),new Date(t)<=o&&!this.isExpired(t)}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=H({type:e,selectors:[["app-tenants"]],viewQuery:function(o,r){if(o&1&&(U(ge,5),U(xe,5)),o&2){let s;R(s=$())&&(r.tenantDialogTemplate=s.first),R(s=$())&&(r.upgradeDialogTemplate=s.first)}},standalone:!0,features:[L],decls:49,vars:14,consts:[["tenantDialog",""],["upgradeDialog",""],["menu","matMenu"],["picker",""],[1,"tenants-container"],["title","Tenants","subtitle","Manage your tenants and subscriptions","icon","business"],[1,"toolbar"],[1,"search-container"],["appearance","outline",1,"search-field"],["matInput","","placeholder","Search by name or email...",3,"input","value"],["matPrefix",""],["matSuffix","","mat-icon-button",""],[1,"actions"],["mat-stroked-button","",3,"click"],["mat-raised-button","","color","primary"],[1,"table-container"],[1,"loading-overlay"],["mat-table","","matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","adminEmail"],["matColumnDef","validUpto"],["matColumnDef","isActive"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","tenant-row",4,"matRowDef","matRowDefColumns"],["mat-row","","class","detail-row",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",3,"page","length","pageSize","pageSizeOptions","pageIndex"],["matSuffix","","mat-icon-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],["diameter","48"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"tenant-id"],[1,"tenant-name"],["mat-header-cell",""],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item",""],["mat-menu-item","",3,"click"],["mat-menu-item","",1,"activate-action"],["mat-menu-item","",1,"deactivate-action"],["mat-menu-item","",1,"activate-action",3,"click"],["mat-menu-item","",1,"deactivate-action",3,"click"],[1,"tenant-detail"],["appearance","outlined"],[1,"detail-grid"],[1,"detail-item"],[1,"detail-label"],["color","primary"],["color","accent"],[1,"detail-item","full-width"],[1,"connection-string"],["mat-header-row",""],["mat-row","",1,"tenant-row"],["mat-row","",1,"detail-row"],[1,"mat-row"],[1,"mat-cell","no-data-cell"],[1,"no-data"],["mat-button","","color","primary"],["mat-button","","color","primary",3,"click"],["mat-dialog-title",""],[1,"tenant-form",3,"formGroup"],[1,"form-row"],["appearance","outline"],["matInput","","formControlName","id","placeholder","Unique tenant key"],["matInput","","formControlName","name","placeholder","Tenant name"],["appearance","outline",1,"full-width"],["matInput","","formControlName","connectionString","placeholder","Leave blank for shared database"],["matInput","","type","email","formControlName","adminEmail","placeholder","Admin email address"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click","disabled"],["diameter","20"],[1,"upgrade-form",3,"formGroup"],[1,"upgrade-info"],["matInput","","formControlName","extendedExpiryDate",3,"matDatepicker"],["matIconSuffix","",3,"for"]],template:function(o,r){if(o&1){let s=h();n(0,"div",4),_(1,"app-page-header",5),n(2,"div",6)(3,"div",7)(4,"mat-form-field",8)(5,"mat-label"),a(6,"Search tenants"),i(),n(7,"input",9),C("input",function(u){return f(s),g(r.onSearch(u))}),i(),n(8,"mat-icon",10),a(9,"search"),i(),c(10,Te,3,0,"button",11),i()(),n(11,"div",12)(12,"button",13),C("click",function(){return f(s),g(r.refreshTenants())}),n(13,"mat-icon"),a(14,"refresh"),i(),a(15," Refresh "),i(),c(16,ve,4,0,"button",14),i()(),n(17,"div",15),c(18,Se,2,0,"div",16),n(19,"table",17),C("matSortChange",function(u){return f(s),g(r.onSort(u))}),S(20,18),c(21,Me,2,0,"th",19)(22,be,3,1,"td",20),M(),S(23,21),c(24,we,2,0,"th",19)(25,Ee,3,1,"td",20),M(),S(26,22),c(27,De,2,0,"th",19)(28,ye,2,1,"td",20),M(),S(29,23),c(30,ke,2,0,"th",19)(31,Pe,4,6,"td",20),M(),S(32,24),c(33,Oe,2,0,"th",19)(34,Fe,3,3,"td",20),M(),S(35,25),c(36,Ve,1,0,"th",26)(37,Ae,13,5,"td",20),M(),S(38,27),c(39,Le,2,2,"td",20),M(),c(40,Qe,1,0,"tr",28)(41,je,1,0,"tr",29)(42,Be,1,0,"tr",30)(43,Ke,8,2,"tr",31),i(),n(44,"mat-paginator",32),C("page",function(u){return f(s),g(r.onPageChange(u))}),i()()(),c(45,en,34,8,"ng-template",null,0,q)(47,on,22,7,"ng-template",null,1,q)}o&2&&(l(7),x("value",r.searchQuery()),l(3),p(r.searchQuery()?10:-1),l(6),p(r.canCreate()?16:-1),l(2),p(r.isLoading()?18:-1),l(),x("dataSource",r.filteredTenants()),l(21),x("matHeaderRowDef",r.displayedColumns),l(),x("matRowDefColumns",r.displayedColumns),l(),x("matRowDefColumns",N(12,Ce)),l(2),x("length",r.totalTenants())("pageSize",r.pageSize())("pageSizeOptions",N(13,he))("pageIndex",r.pageIndex()))},dependencies:[G,B,ft,dt,mt,st,ct,pt,ut,Bt,Ut,$t,zt,At,Rt,Ht,Nt,qt,Lt,Qt,jt,Kt,Gt,Xt,Jt,Wt,et,Z,tt,Y,X,kt,yt,Mt,wt,bt,Et,Dt,Zt,Yt,oe,ee,ne,ae,ie,Vt,Ft,Ot,Pt,ot,it,nt,at,gt,lt,rt,St,Ct,Tt,vt,ht,se,re,le,me,W,xt,It],styles:[".tenants-container[_ngcontent-%COMP%]{padding:24px}.toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;gap:16px;flex-wrap:wrap}.search-container[_ngcontent-%COMP%]{flex:1;min-width:250px;max-width:400px}.search-field[_ngcontent-%COMP%]{width:100%}.actions[_ngcontent-%COMP%]{display:flex;gap:12px}.table-container[_ngcontent-%COMP%]{position:relative;background:var(--surface-color);border-radius:8px;overflow:hidden;box-shadow:0 2px 8px #0000001a}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:#fffc;z-index:10}table[_ngcontent-%COMP%]{width:100%}.tenant-id[_ngcontent-%COMP%]{font-family:monospace;background:#0000000d;padding:4px 8px;border-radius:4px;font-size:12px}.tenant-name[_ngcontent-%COMP%]{font-weight:500}.expired[_ngcontent-%COMP%]{color:#dc2626;font-weight:500}.expiring-soon[_ngcontent-%COMP%]{color:#ea580c;font-weight:500}.status-active[_ngcontent-%COMP%]{background:#dcfce7!important;color:#166534!important}.status-inactive[_ngcontent-%COMP%]{background:#fee2e2!important;color:#991b1b!important}.activate-action[_ngcontent-%COMP%]{color:#16a34a}.deactivate-action[_ngcontent-%COMP%]{color:#dc2626}.tenant-row[_ngcontent-%COMP%]{cursor:pointer}.detail-row[_ngcontent-%COMP%]{height:0}.detail-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0!important}.tenant-detail[_ngcontent-%COMP%]{padding:16px;background:#00000005}.detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.detail-item.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.detail-label[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);font-weight:500}.connection-string[_ngcontent-%COMP%]{font-family:monospace;font-size:12px;background:#0000000d;padding:8px;border-radius:4px;word-break:break-all}.no-data-cell[_ngcontent-%COMP%]{text-align:center;padding:48px!important}.no-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;color:var(--text-secondary)}.no-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;opacity:.5}.tenant-form[_ngcontent-%COMP%], .upgrade-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;min-width:400px}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.full-width[_ngcontent-%COMP%]{width:100%}.upgrade-info[_ngcontent-%COMP%]{margin-bottom:16px;padding:12px;background:#0000000d;border-radius:4px}@media (max-width: 600px){.toolbar[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.search-container[_ngcontent-%COMP%]{max-width:none}.actions[_ngcontent-%COMP%]{justify-content:flex-end}.tenant-form[_ngcontent-%COMP%], .upgrade-form[_ngcontent-%COMP%]{min-width:auto}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}return e})();export{ni as TenantsComponent};
