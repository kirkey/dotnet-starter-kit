import{b as J,c as K}from"./chunk-IMNAVXVZ.js";import{a as Q}from"./chunk-MEZ4YZNT.js";import"./chunk-R6QGXIMR.js";import{b as R,c as q,e as A,i as j,j as W,k as Y,l as H}from"./chunk-FCCRYPII.js";import{b as L,d as h,g as V,h as z,k as I,m as N,n as D,o as B,q as G}from"./chunk-BLGZ2ZXV.js";import{a as E,b as k}from"./chunk-36HQY7RT.js";import"./chunk-OEMMV5VK.js";import{a as O,d as T}from"./chunk-U2EMCCYP.js";import{d as v,h as y}from"./chunk-VLA6YYWX.js";import"./chunk-NW6BZQUB.js";import"./chunk-CARY4E7O.js";import{Bb as t,Cb as i,Db as u,Hb as C,Kb as b,Mb as c,Sc as w,Wa as l,Wb as o,Xb as P,cc as F,ea as f,fb as d,ia as S,mb as p,qa as g,ra as x,rb as _,wb as s}from"./chunk-ENBBOSSX.js";import{d as M}from"./chunk-4CLCTAJ7.js";function U(e,m){e&1&&(t(0,"mat-error"),o(1,"Email is required"),i())}function X(e,m){e&1&&(t(0,"mat-error"),o(1,"Please enter a valid email"),i())}function Z(e,m){e&1&&(u(0,"mat-spinner",11),t(1,"span"),o(2,"Sending..."),i())}function $(e,m){e&1&&(t(0,"mat-icon"),o(1,"send"),i(),t(2,"span"),o(3,"Send Reset Link"),i())}function tt(e,m){if(e&1){let n=C();t(0,"h2",4),o(1,"Forgot Password?"),i(),t(2,"p",5),o(3," Enter your email address and we'll send you instructions to reset your password. "),i(),t(4,"form",6),b("ngSubmit",function(){g(n);let r=c();return x(r.onSubmit())}),t(5,"mat-form-field",7)(6,"mat-label"),o(7,"Email"),i(),u(8,"input",8),t(9,"mat-icon",9),o(10,"email"),i(),p(11,U,2,0,"mat-error")(12,X,2,0,"mat-error"),i(),t(13,"button",10),p(14,Z,3,0)(15,$,4,0),i()()}if(e&2){let n,a,r=c();l(4),_("formGroup",r.forgotForm),l(7),s((n=r.forgotForm.get("email"))!=null&&n.hasError("required")&&((n=r.forgotForm.get("email"))!=null&&n.touched)?11:-1),l(),s((a=r.forgotForm.get("email"))!=null&&a.hasError("email")&&((a=r.forgotForm.get("email"))!=null&&a.touched)?12:-1),l(),_("disabled",r.isLoading()||r.forgotForm.invalid),l(),s(r.isLoading()?14:15)}}function et(e,m){if(e&1){let n=C();t(0,"div",1)(1,"mat-icon",12),o(2,"mark_email_read"),i(),t(3,"h2",4),o(4,"Check Your Email"),i(),t(5,"p",5),o(6," We've sent password reset instructions to"),u(7,"br"),t(8,"strong"),o(9),i()(),t(10,"p",13),o(11," Didn't receive the email? Check your spam folder or "),t(12,"button",14),b("click",function(){g(n);let r=c();return x(r.resetForm())}),o(13,"try again"),i()()()}if(e&2){let n=c();l(9),P(n.submittedEmail())}}var Mt=(()=>{class e{fb=f(B);notification=f(Q);isLoading=d(!1);emailSent=d(!1);submittedEmail=d("");forgotForm=this.fb.group({email:["",[h.required,h.email]]});onSubmit(){return M(this,null,function*(){if(this.forgotForm.invalid){this.forgotForm.markAllAsTouched();return}this.isLoading.set(!0);try{yield new Promise(n=>setTimeout(n,1500)),this.submittedEmail.set(this.forgotForm.value.email),this.emailSent.set(!0)}catch(n){this.notification.error(n?.message||"Failed to send reset email. Please try again.")}finally{this.isLoading.set(!1)}})}resetForm(){this.emailSent.set(!1),this.submittedEmail.set(""),this.forgotForm.reset()}static \u0275fac=function(a){return new(a||e)};static \u0275cmp=S({type:e,selectors:[["app-forgot-password"]],standalone:!0,features:[F],decls:8,vars:1,consts:[[1,"forgot-password-container"],[1,"success-state"],[1,"back-to-login"],["routerLink","/auth/login",1,"back-link"],[1,"title"],[1,"subtitle"],[1,"forgot-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","type","email","formControlName","email","placeholder","Enter your email","autocomplete","email"],["matPrefix",""],["mat-raised-button","","color","primary","type","submit",1,"submit-btn",3,"disabled"],["diameter","20"],[1,"success-icon"],[1,"info-text"],["mat-button","","color","primary",3,"click"]],template:function(a,r){a&1&&(t(0,"div",0),p(1,tt,16,5)(2,et,14,1,"div",1),t(3,"div",2)(4,"a",3)(5,"mat-icon"),o(6,"arrow_back"),i(),o(7," Back to Sign In "),i()()()),a&2&&(l(),s(r.emailSent()?2:1))},dependencies:[w,y,v,G,I,L,V,z,N,D,W,j,R,q,A,K,J,T,O,k,E,H,Y],styles:[".forgot-password-container[_ngcontent-%COMP%]{text-align:center}.title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin:0 0 8px;color:var(--text-primary)}.subtitle[_ngcontent-%COMP%]{font-size:14px;color:var(--text-secondary);margin:0 0 24px;line-height:1.5}.forgot-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.full-width[_ngcontent-%COMP%]{width:100%}.submit-btn[_ngcontent-%COMP%]{height:48px;font-size:16px;display:flex;align-items:center;justify-content:center;gap:8px}.submit-btn[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block}.success-state[_ngcontent-%COMP%]{padding:24px 0}.success-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:var(--primary-color);margin-bottom:16px}.info-text[_ngcontent-%COMP%]{font-size:13px;color:var(--text-secondary);margin:16px 0 0}.info-text[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{vertical-align:baseline;padding:0 4px;min-width:auto}.back-to-login[_ngcontent-%COMP%]{margin-top:32px;padding-top:24px;border-top:1px solid var(--border-color)}.back-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;color:var(--text-secondary);text-decoration:none;font-size:14px;transition:color .2s}.back-link[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.back-link[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}"]})}return e})();export{Mt as ForgotPasswordComponent};
